!!!
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if IE 9]>    <html class="gt-ie9" lang="en"> <![endif]-->
<!--[if gte IE 9]><!--> <html lang="en"> <!--<![endif]-->
%head
  %meta{:charset => "utf-8"}/
  %meta{:content => "width=device-width, initial-scale=1.0", :name => "viewport"}/
  %title
    \#{title = (yield :title); title.blank? ? "AlumVest" : title}
  = favicon_link_tag '/favicon.png'
  = stylesheet_link_tag "application"
  = javascript_include_tag "application"
  = javascript_include_tag "//cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"
  = csrf_meta_tags
  = yield :head
  :plain
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
  = render 'layouts/shareaholic_header'
%body
  %nav#header.navbar.navbar-default.navbar-fixed-top{ 'role' => 'navigation'}
    .container
      .navbar-header
        <!-- .navbar-toggle is used as the toggle for collapsed navbar content -->
        %button.navbar-toggle{ :type => 'button', "data-toggle" => "collapse", "data-target" => ".navbar-collapse"}
          %span.sr-only
          %span.icon-bar
          %span.icon-bar
          %span.icon-bar
        %a{:href => '/', :class => 'navbar-brand'}
          %img{:src => image_path('home/logo.png'), :alt => 'Alumvest'}
      - unless content_for?(:without_navigation) || (yield :without_navigation) == true
        %div.collapse.navbar-collapse.navbar-ex1-collapse
          %ul.nav.navbar-nav
            = render partial: 'layouts/header_navigation'
          %div.navbar-form#search-header
            %div.input-group
              %input.form-control{ :type => 'text', :placeholder => 'Search'}
              %span.input-group-btn
                %button.btn.btn-default{:type => 'button'}
                  %span.glyphicon.glyphicon-search
          %ul.nav.navbar-nav.navbar-right
            - if current_user
              %li#user-dropdown.dropdown
                = link_to '#', :id => "user-name", :class => "dropdown-toggle", 'data-toggle' => 'dropdown' do
                  = current_user.first_name
                  = image_tag(current_user.avatar_small)
                %ul.dropdown-menu{:role => "menu", "aria-labelledby" => "user-name"}
                  - if current_user.is_admin?
                    %li= link_to 'Dashboard', admin_dashboard_path, :class => "btn"
                  - if current_user.is_owner?
                    %li= link_to 'Dashboard', owner_dashboard_path, :class => "btn"
                  - if current_user.is_investor?
                    %li= link_to 'Dashboard', investor_dashboard_path, :class => "btn"
                  %li= link_to 'Profile', user_path(current_user.id), :class => "btn"
                  %li= link_to 'Sign out', logout_path, :class => "btn", :method => :delete
            - else
              %li= link_to('Register', '#signup-modal', :class => '', 'data-toggle' => 'modal')
              %li= link_to('Login', '#login-modal', :class => '', 'data-toggle' => 'modal')
  #content
    = yield :header_1 if content_for? :header_1

    = yield :breadcrumbs if content_for? :breadcrumbs
    .container
      .row.sub-navigation
        .col-md-12
          = yield :sub_navigation if content_for? :sub_navigation

    - if content_for? :sidebar_left
      .container
        .row
          #sidebar.col-xs-12.col-md-3
            = yield :sidebar_left
          #sidebar-content.col-md-9.col-xs-12
            = render 'layouts/flash', :flash => flash
            = yield
    - elsif content_for? :sidebar_right
      .container
        .row
          .col-md-9.col-xs-12
            = render 'layouts/flash', :flash => flash
            = yield
          #sidebar.col-md-3.col-xs-12
            = yield :sidebar_right
    - else
      .container
        .row
          .col-md-12.col-xs-12
            = render 'layouts/flash', :flash => flash
      = yield
    .push
  #footer
    .container
      .row
        - unless content_for?(:without_navigation) || (yield :without_navigation) == true
          .col-md-10.col-xs-12.footer-navigation
            %ul.nav.nav-pills
              = render 'layouts/footer_navigation'
          .col-md-2.col-xs-12
            %img{ :src => image_path('home/facebook.png')}
            %img{ :src => image_path('home/twitter.png')}
            %img{ :src => image_path('home/google_plus.png')}
      %hr
      %div.copyright
        %p
          Copyright &copy; 2013 AlumVest, Inc.  All Rights Reserved.

    = render :partial => 'layouts/signup_modal'
    = render :partial => 'layouts/login_modal'

  = yield :scripts
</html>
