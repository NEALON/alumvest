/**
 * How It Works Contents
 */
.how-it-works-pages { background: $black; color: $white; @include clearfix; height: 100%;
  > .page-content { background: {size: cover; attachment: fixed; position-x: center !important;} clear: left; float: left; font-size: em(16, 14); height: 100%; overflow: hidden; @include opacity(0); position: relative; width: 100%;
    &.first { margin-top: -$navbar-height; padding-top: $navbar-height; 
      .trigger { margin-top: -$navbar-height; }
    }
    
    &.last { margin-bottom: -$footer-height-sm; padding-bottom: $footer-height-sm; }
    
    &.last {
      .nav-steps { bottom: $footer-height-sm; }
    }
    
    .trigger { display: block; height: 1px; left: 0; position: absolute; top: 0; width: 1px; }
  }
  
  h1, .h1 { font: {size: em(39); weight: 700;} line-height: 1.17; margin-bottom: em(21, 39);
    .media .pull-left { margin-right: 25px; 
      .fa { font-size: em(96, 39); }
      .glyphicon { font-size: em(82, 39); }
    }
  }
  
  .well { padding: em(15) em(28); 
    ol, ul { font: {family: $font-family-serif; weight: bold;} line-height: 1.1; margin-left: em(-21); 
      li + li { margin-top: em(15); }
    }
  }
  
  .fade { @include transition(none); 
    &.in { @include transition(opacity 2s); }
  }
  
  .inner-content { height: 100%; 
    > .container { height: 100%; 
      > div { height: 100%; position: relative; z-index: 5; }
    }
  }
  
  &.ready > .page-content { @include opacity(1); @include transition(opacity .3s); }
  
  // Navigations Steps
  .nav-steps { @include opacity(0); position: absolute; bottom: 0; @include translate(0, 15px); @include transition(opacity .3s); width: 100%; z-index: 7;
    a { background: #3a3c40; color: #a0a5af; display: block; font: {size: em(19); family: $font-family-serif; weight: 700;} line-height: em(46, 19); margin: 0 em(30, 19) 15px; position: relative; text: {align: center; transform: uppercase;} @include transition(none); 
      &:focus, &:hover { background: darken(#3a3c40, 10%); color: $white; 
        &:after { border-top-color: darken(#3a3c40, 10%); }
        &:before { border-bottom-color: darken(#3a3c40, 10%); }
      }
      
      &.active { background: #259aed; color: $white; 
        &:after { border-top-color: #259aed; }
        &:before { border-bottom-color: #259aed; }
      }
      
      &:after, &:before { content: ''; height: 0; position: absolute; top: 0; width: 0; }
      &:after { border: {top: em(46, 19) solid #3a3c40; right: em(46, 19) solid transparent;} left: 100%; }
      &:before { border: {bottom: em(46, 19) solid #3a3c40; left: em(46, 19) solid transparent;} right: 100%; }
    }
    
    &.show { @include opacity(1); @include translate(0, 0); @include transition(all .5s); }
  }
  
  // Navigation Pages
  .nav-pages { @include opacity(0); @include translate(-15px, 0); @include transition(opacity .3s); width: em(31); z-index: 7;
    > ul > li { padding-top: em(5); position: relative; z-index: 3;
      a { background: #3a3c40; border-radius: 100px; color: #a0a5af; display: block; font: {size: em(13); weight: bold;} height: em(31, 13); line-height: em(31, 13); text-align: center; @include transition(all .3s); width: em(31, 13); 
        .fa-chevron-down { position: relative; top: em(-1, 13); }
        .fa-chevron-up { position: relative; top: em(-2, 13); }
        
        &:hover, &:focus { background: darken(#3a3c40, 10%); color: $white; }
      }
      
      &:after { background: #3a3c40; content: ''; display: block; height: 100%; left: 50%; margin-left: -1px; position: absolute; top: 0; width: 1px; z-index: -1; }
      
      &.passed {
        &:after { background: $green; }
        
        a { background: $green; color: $white; }
      }
      
      &.current {
        &:after { background: #259aed; }
        
        a { background: #259aed; color: $white; }
      }
      
      &.prev { padding-bottom: em(10); }
      &.next { padding-top: em(15); }
      
      &.next, &.prev, &.first {
        &:after { display: none; }
      }
    }
    
    &.show { @include opacity(1); @include translate(0, 0); @include transition(all .5s); }
  }
  
  // Sturtups Backgrounds
  &.sturtups {
    .nav-pages { left: 20px; margin-top: -140px; position: absolute; top: 50%; }
    
    > .page-content {
      &.first {
        .nav-pages { margin-top: (-140px + $navbar-height); } 
      }
    }
    
    .bg-step-1 { background-image: image-url("how-it-works/sturtups/01-step-bg.jpg"); }
    .bg-step-2 { background-image: image-url("how-it-works/sturtups/02-step-bg.jpg"); }
    .bg-step-3 { background-image: image-url("how-it-works/sturtups/03-step-bg.jpg"); }
    .bg-step-4 { background-image: image-url("how-it-works/sturtups/04-step-bg.jpg"); }
    .bg-step-5 { background-image: image-url("how-it-works/sturtups/05-step-bg.jpg"); }
  }
  
  // Investors
  &.investors {
    .nav-pages { left: 20px; margin-top: -158px; position: absolute; top: 40%; }
    
    > .page-content { background: #eaec6a; @include transition(background-color 3s .3s);
      &.first {
        .nav-pages { margin-top: (-158px + $navbar-height); } 
      }
      
      .bg-blue { background: #eaec6a; height: 100%; left: 0; position: absolute; top: 0; @include transition(background-color 2s); width: 100%; 
        &.in { background: #7bbaf4; }
      }
      
      .bg-building-front { background: image-url("how-it-works/investors/building-zindex-3.png") top center repeat-x transparent; bottom: 0; left: 0; padding-top: 105px; position: absolute; width: 100%;
        > div { background: #f0f1f1; height: em(100); }
      }
      
      .bg-building-middle { background: image-url("how-it-works/investors/building-zindex-2.png") top right repeat-x transparent; bottom: 0; left: 0; padding-top: 145px; position: absolute; width: 100%; 
        > div { background: #d1d2d3; height: em(130); }
      }
      
      .bg-building-back { background: image-url("how-it-works/investors/building-zindex-1.png") top left repeat-x transparent; bottom: 0; left: 0; padding-top: 145px; position: absolute; width: 100%; 
        > div { background: #a7a9ac; height: em(160); }
      }
      
      .bg-building-front, .bg-building-middle, .bg-building-back {
        &.overlay { z-index: 5; }
      }
      
      &.last {
        .bg-building-front > div, .bg-building-middle > div, .bg-building-back > div { @include box-sizing(initial); padding-bottom: $footer-height-sm; }
      }
    }
    
    .nav-steps { @include translate(0, -50%);
      &.show { @include translate(0, 0); }
    }
  }
}

// To support Old browsers
.no-csstransforms, .no-csstransforms3d {
  .how-it-works-pages {
    .fade { @include opacity(1); }
  } 
}


/**
 * Sturtup Pages
 */

// Apply Sturtup Content (Step 1)
.inner-content {
  .apply-sturtup-content { left: 0; position: absolute; top: 10%; width: 100%;
    .h1 { @include opacity(0); position: relative; top: em(-30); }
    .apply { font-size: em(119); line-height: 1.0; margin: 0 em(-55, 119) 0 0; text-transform: uppercase; }
    .description { border-left: em(13) solid $white; margin: em(70) 0 em(40) em(11); position: relative;
      > .fa-check-circle { font-size: em(30); left: em(-20, 30); margin-top: em(-4, 30); position: absolute; top: 100%; }
    }
    .media { margin-top: em(-8); @include opacity(0); }
  }

  &.in .apply-sturtup-content {
    .h1 { @include opacity(1); top: 0; @include transition(all 1.3s .3s); }
    .media { @include opacity(1); @include transition(all .7s .7s); } 
    .description { padding-top: em(58); @include transition(all .7s 1.7s);  }
  }
}

// Review Sturtup Content (Step 2)
.inner-content {
  .review-sturtup-content {
    .h1 { left: 0; margin: 0; position: absolute; top: 10%; width: 100%;
      &.in { left: em(170, 39); @include transition(opacity 2s, left 2s); }
    }
    .well { margin: {top: em(100);} padding: em(25) em(30); position: absolute; right: 50%; top: 10%; width: em(324);       
      &.in { right: 0; @include transition(opacity 1.5s .5s, right 1.5s .5s); }
    }
  }
} 

// Join & Raise Funds (Step 3)
.inner-content {
  .raisefunds-sturtup-content { left: 0; padding-left: em(280); position: absolute; top: 10%; width: 100%;
    .h1 { border-radius: 3px 3px 0 3px; padding: em(20, 39) em(27, 39) em(20, 39) em(17, 39); margin: 0; }
    .description { border-radius: 0 0 3px 3px; color: $white; margin-left: em(230); padding: 0 em(27) em(25) em(33); }
  }
  
  &.in .raisefunds-sturtup-content {
    .h1 { background: $green; @include transition(all 2s); }
    .description { background: $green; @include transition(all 2s);  }
  }
}

// Manage (Step 4)
.inner-content {
  .manage-sturtup-content {
    .top-info { height: em(146); position: absolute; right: 0; top: 10%; width: em(844); 
      > div { background: $blue-darken; left: -130px; margin: 0 em(42); padding: em(25) em(15); position: relative;
        .h1 { margin: 0; }
        
        &:after, &:before { content: ''; height: 0; position: absolute; top: 0; width: 0; }
        &:after { border: {top: em(146) solid $blue-darken; left: em(42) solid transparent;} right: 100%; }
        &:before { border: {bottom: em(146) solid $blue-darken; right: em(42) solid transparent;} left: 100%; }
      }
      
      &.in > div { left: 0; @include transition(left 2s, opacity 2s); }
    }
    
    .bottom-info { height: em(146); margin-top: em(151); position: absolute; right: 0; top: 10%; width: em(844); 
      > div { background: $blue-darken; left: -70px; margin: 0 em(42); padding: em(29) em(15); position: relative; 
        &:after, &:before { content: ''; height: 0; position: absolute; top: 0; width: 0; }
        &:after { border: {top: em(146) solid $blue-darken; right: em(42) solid transparent;} left: 100%; }
        &:before { border: {bottom: em(146) solid $blue-darken; left: em(42) solid transparent;} right: 100%; }
      }
      
      &.in > div { left: 0; @include transition(left 2s, opacity 2s); }
    }
  }
}

// Crowd Source & Find (Step 5)
.inner-content {  
  .find-sturtup-content {
    .h1 { left: 0; margin: {left: em(110, 39); bottom: 0; top: 0;} max-width: 100%; position: absolute; top: 8%; width: em(600, 39); }
    .well { left: 0; margin: {left: em(50); top: em(105);} max-width: 100%; padding: em(20) em(35); position: absolute; top: 8%; width: em(540); 
      .fa-search { background: $green; border-radius: 100px; font-size: em(43); height: em(85, 43); left: 0; line-height: em(85, 43); margin: {left: em(-58, 43); top: em(-64, 43);} @include opacity(0); position: absolute; @include scale(0, 0); text-align: center; top: 0; width: em(85, 43); }
    
      &.in .fa-search { @include opacity(1); @include scale(1, 1); @include transition(all .5s 1s); }
    }
  }
}

/**
 * Investors Pages
 */

// Sign Up Investor Content (Step 1)
.inner-content {
  .signup-investors-content { 
    .wrapper-img { bottom: em(85); left: 0; max-width: em(199); position: absolute; }
    
    .media, .media-body { overflow: visible; }
    
    .media-body { position: absolute; right: 7%; top: 8%; width: em(690); 
      .h1 { @include translate(0, 100px); }
      .well { @include translate(0, 200px); }
      p { @include translate(0, 300px);  }
      
      &.in {
        .h1 { @include translate(0, 0); @include transition(all .8s); }
        .well { @include translate(0, 0); @include transition(all 1.1s); }
        p { @include translate(0, 0); @include transition(all 1.5s); }
      }
    }
  }
}

// Browse Investor Content (Step 2)
.inner-content {
  .browse-investors-content { 
    .wrapper-img { bottom: em(140); right: 0; max-width: em(252); position: absolute; }
    
    .media, .media-body { overflow: visible; }
    
    .media-body { position: absolute; left: 0; top: 12%; width: em(725); 
      .h1 { @include translate(0, 100px); }
      p { @include translate(0, 300px);  }
      
      &.in {
        .h1 { @include translate(0, 0); @include transition(all .8s); }
        p { @include translate(0, 0); @include transition(all 1.5s); }
      }
    }
  }
}

// Get Exclusive Investor Content (Step 3)
.inner-content {
  .get-exclusive-investors-content { 
    .wrapper-img { max-width: em(277); }
    .media-body { right: 0; top: 14%; width: em(760); }
  }
}

// Get Exclusive Investor Content (Step 4)
.inner-content {
  .wisdom-investors-content { 
    .wrapper-img { max-width: em(182); }
    .media-body { right: 0; top: 14%; width: em(760); }
  }
}

// Browse Investor Content (Step 5)
.inner-content {
  .review-investors-content { 
    .wrapper-img { bottom: em(85); right: 0; max-width: em(264); position: absolute; }
    
    .media, .media-body { overflow: visible; }
    
    .media-body { position: absolute; left: 0; top: 14%; width: em(710); 
      .h1 { @include translate(0, 100px); }
      p { @include translate(0, 300px);  }
      
      &.in {
        .h1 { @include translate(0, 0); @include transition(all .8s); }
        p { @include translate(0, 0); @include transition(all 1.5s); }
      }
    }
  }
}

// Alumni Communities Investor Content (Step 6)
.inner-content {
  .communities-investors-content { 
    .wrapper-img { max-width: em(269); }
    .media-body { right: 7%; top: 14%; width: em(710); }
  }
}
    

@media (min-width: $screen-sm) {
  .how-it-works-body { height: 100%; overflow: hidden; @include sticky-footer($footer-height-sm);    
    .root { height: 100% !important; }    
    .wrapper-content { height: 100%; margin: {top: 0; bottom: 0;} padding: {top: 0; bottom: 0;} }    
    .footer { @include box-shadow(0 -2px 5px rgba($black, .1)); }
  }  
}